(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{188:function(e){e.exports={contractName:"ERC20",abi:[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{payable:!0,stateMutability:"payable",type:"fallback"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"}]}},191:function(e,t,a){e.exports=a(467)},200:function(e,t,a){e.exports=a.p+"static/media/logo.06825633.png"},201:function(e,t,a){},213:function(e,t){},215:function(e,t){},310:function(e,t){},380:function(e,t){},467:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(185),o=a.n(r),c=(a(196),a(22)),l=a.n(c),i=a(67),u=a(186),d=a(189),m=a(187),p=a(104),w=a(190),h=(a(200),a(201),a(188)),b=a(68),y=a.n(b),f=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).state={weiValue:1e18,walletConnected:"no",account:"",error:null,isLoaded:!1,transactions:[],rewards:[]},a}return Object(w.a)(t,e),Object(p.a)(t,[{key:"componentWillMount",value:function(){var e=Object(i.a)(l.a.mark(function e(){var t,a,n,s,r,o,c=this;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadWeb3();case 2:return t=new y.a("https://speedy-nodes-nyc.moralis.io/c1005db9c7232a9cdd7c64c1/bsc/mainnet"),console.log("begin fetch"),e.next=6,fetch("https://api.bscscan.com/api?module=account&action=txlistinternal&address=0x151135ea49BB5B5Adeab15F19d9Dfb696C916c37&startblock=0&endblock=99999999&sort=dsc&apikey=3EECSDZ78CUE9JQDRJXBMGT8HKAMVZYQGF").then(function(){var e=Object(i.a)(l.a.mark(function e(t){var a,n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:a=e.sent,console.log("response completed data=",a),t.ok||(n=a&&a.message||t.statusText,c.setState({isLoaded:!0,error:n})),c.setState({transactions:a.result}),console.log("data=",a);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){c.setState({isLoaded:!0,error:e}),console.error("There was an error!",e)});case 6:console.log("end fetch"),e.t0=l.a.keys(this.state.transactions);case 8:if((e.t1=e.t0()).done){e.next=40;break}a=e.t1.value,this.state.transactions[a].tDate=this.tsDate(this.state.transactions[a].timeStamp),n=!1,e.t2=l.a.keys(this.state.rewards);case 13:if((e.t3=e.t2()).done){e.next=23;break}if(s=e.t3.value,this.state.rewards[s].address!=this.state.transactions[a].from){e.next=21;break}return this.state.rewards[s].amount+=this.state.transactions[a].value/this.state.weiValue,this.state.rewards[s].count++,this.state.rewards[s].lastRewardTS<this.state.transactions[a].timeStamp&&(this.state.rewards[s].lastRewardTS=this.state.transactions[a].timeStamp,this.state.rewards[s].lastRewardDate=this.state.transactions[a].tDate),n=!0,e.abrupt("break",23);case 21:e.next=13;break;case 23:if(r=void 0,n){e.next=38;break}return e.prev=25,o=new t.eth.Contract(h.abi,this.state.transactions[a].from),e.next=29,o.methods.name().call();case 29:r=e.sent,e.next=35;break;case 32:e.prev=32,e.t4=e.catch(25),r="Unknown";case 35:s={address:this.state.transactions[a].from,token:r,count:1,amount:this.state.transactions[a].value/this.state.weiValue,firstRewardTS:this.state.transactions[a].timeStamp,firstRewardDate:this.state.transactions[a].tDate,lastRewardTS:this.state.transactions[a].timeStamp,lastRewardDate:this.state.transactions[a].tDate},this.state.rewards.push(s),console.log("Added Reward = ",this.state.transactions[a].from);case 38:e.next=8;break;case 40:console.log("end rewards = ",this.state.rewards),this.setState({isLoaded:!0});case 42:case"end":return e.stop()}},e,this,[[25,32]])}));return function(){return e.apply(this,arguments)}}()},{key:"loadWeb3",value:function(){var e=Object(i.a)(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.ethereum){e.next=6;break}return window.web3=new y.a(window.ethereum),e.next=4,window.ethereum.enable();case 4:e.next=7;break;case 6:window.web3?window.web3=new y.a(window.web3.currentProvider):window.alert("Non-Ethereum browser detected. You should consider trying MetaMask!");case 7:return e.next=9,window.web3.eth.getAccounts();case 9:t=e.sent,this.setState({weiValue:window.web3.utils.toWei("1","ether"),account:t[0]});case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),Object(p.a)(t,[{key:"tsDate",value:function(e){var t=new Date(1e3*e);return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()+" "+t.getHours()+":"+t.getMinutes()}},{key:"render",value:function(){var e=this,t=this.state,a=t.error,n=t.isLoaded;t.transactions;return a?s.a.createElement("div",null,"Error: ",a.message):n?s.a.createElement("div",null,s.a.createElement("nav",{className:"navbar navbar-dark fixed-top bg-dark flex-md-nowrap p-0 shadow"},s.a.createElement("a",{className:"navbar-brand col-sm-3 col-md-2 mr-0",href:"http://marketwarlords.com",target:"_blank",rel:"noopener noreferrer"},"Ghostface Rewards Tracker"),s.a.createElement("ul",{className:"navbar-nav px-3"},s.a.createElement("li",{className:"nav-item text-nowrap d-none d-sm-none d-sm-block"},s.a.createElement("small",{className:"text-white"},s.a.createElement("span",{id:"account"},this.state.account))))),s.a.createElement("div",{className:"container-fluid mt-5"},s.a.createElement("div",{className:"row"},s.a.createElement("main",{role:"main",className:"col-lg-12 d-flex text-center"},s.a.createElement("div",{className:"content mr-auto ml-auto",style:{width:"1000px"}},s.a.createElement("h5",null,"Ghostface Rewards Tracker"),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-12 mt-3"},s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-header"},s.a.createElement("h5",null,"Latest Rewards")),s.a.createElement("div",{className:"card-body"},s.a.createElement("table",{className:"table"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{scope:"col"},"Token"),s.a.createElement("th",{scope:"col"},"Rewards"),s.a.createElement("th",{scope:"col"},"BNB Amount"),s.a.createElement("th",{scope:"col"},"Last Reward Date"))),s.a.createElement("tbody",null,this.state.rewards.map(function(e,t){return s.a.createElement("tr",{key:t},s.a.createElement("th",{scope:"row"},e.token),s.a.createElement("td",null,e.count),s.a.createElement("td",null,e.amount),s.a.createElement("td",null,e.lastRewardDate))}))))))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-12 mt-3"},s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-header"},s.a.createElement("h5",null,"Latest Transactions")),s.a.createElement("div",{className:"card-body"},s.a.createElement("table",{className:"table"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{scope:"col"},"Block"),s.a.createElement("th",{scope:"col"},"Date"),s.a.createElement("th",{scope:"col"},"From"),s.a.createElement("th",{scope:"col"},"BNB Amount"))),s.a.createElement("tbody",null,this.state.transactions.map(function(t,a){return s.a.createElement("tr",{key:a},s.a.createElement("th",{scope:"row"},t.blockNumber),s.a.createElement("td",null,t.tDate),s.a.createElement("td",null,t.from.substring(0,50)),s.a.createElement("td",null,t.value/e.state.weiValue))})))))))))))):s.a.createElement("div",null,"Loading...")}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(f,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[191,2,1]]]);
//# sourceMappingURL=main.cb81facf.chunk.js.map